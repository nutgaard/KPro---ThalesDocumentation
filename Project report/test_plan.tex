\section{Test plan}

The main part of project testing was done as we went along. Using unit tests, each part of the code was thoroughly tested before it was put together. Larger scale integration and instrumentation tests were done largely the same way, compounded by informal testing by group members. The sending and receiving of emails was tested using Greenmail, while Mockito was used to handle not yet implemented classes as well as emulator free tests for Android specific classes. All of these tools are described in the section below. Towards the end of the project period, including large parts of the fourth sprint, the focus shifted from producing additional code to finding and repairing bugs. While our plan was vaguely based on, and in large part inspired by, IEEE829 [12] we were too informal about it to be able to use such grand claims. In short, our testing plan was to test each public method both for valid and invalid input.

\subsection{Tools}
\subsubsection{JUnit}
JUnit is the industry standard for test driven development. It works by creating a separate test method for each method in the class that is to be tested. In this way one can test large portions of code independent of the other code sections. For us, it provides many benefits, especially that most of us have dealt with it before and are familiar with the concept.

\subsubsection{Android Instrumentation}
Android Instrumentation is a framework that extends JUnit, providing it with a toolkit of android specific mock classes and methods. It also provides test classes targeting Android applications, with specialized testing of everything from GUI components locations and visibility to the Activity specific onCreate and onDestroy methods. Android Instrumentation is produced by Android directly, and is included in the development kit.

\subsubsection{Greenmail}
Greenmail is an open source mail server package for testing in Java. It provides all the server side software needed to test mail sending and receiving without having an actual server.


\subsubsection{Mockito}
Mockito is a simple and elegant API for mocking classes. With a few lines of code an unimplemented class can be instructed to provide a valid output, allowing other parts of the code to be tested without concerns.

\subsection{Design Verification}
In order to accommodate the agile development plan used by the team, our early design verification was necessarily somewhat vague. In the early stages of the project we had limited knowledge of how the final product would be structured and which features it would involve.
\newline
\newline
Early in the first sprint we decided upon a set of basic interfaces, which neatly split up the project into manageable parts. We began early by writing up tests for future classes that implemented these interfaces, allowing low level testing of individual methods. At the time of writing these tests we had no idea how each method was going to be implemented, this enabled us to write generic black box tests.
\newline
\newline
Later in the project this method level testing was augmented by white box and stress testing; essentially us deliberately trying to crash the system with strange inputs or action combinations. 

\subsection{Why we selected these Test Tools}
The choice of tools was mainly based on previous experience inside the group, demand and frameworks provided by the platform. 
\newline
\newline
JUnit was chosen because of previous experience and the fact that the android instrumentation framework is based on JUnit. Bundled with Mockito it also gives us the possibility to test otherwise android depended modules in a java environment, with the android specifics mocked up. This can greatly reduce the build cycle time, since the tests are no longer pushed onto a device in order to run. 
\newline
\newline
Android instrumentation was chosen as a way to enable testing of GUI, provided with the SKD and recommended by Google it was the only tool providing us with the functionality needed to us.
\newline
\newline
Greenmail was chosen based on the need to test the mail module in our project, ease of use and fast response time. If the code passes the Greenmail tests, the code is then tested against gmailâ€™s mail server to ensure it functions with external servers as well. 
